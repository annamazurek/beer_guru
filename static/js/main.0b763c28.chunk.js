(this.webpackJsonpbeer_guru=this.webpackJsonpbeer_guru||[]).push([[0],{24:function(e,a,t){e.exports=t(35)},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(20),c=t.n(s),l=(t(29),t(17)),i=t(9),o=t(10),m=t(12),u=t(11),p=t(13),h=t(7),_=t(21),g=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={beers:[],items:Array.from({length:20}),per:20,page:1},t.loadBeers=function(){var e=t.state,a=e.per,n=e.page,r=e.beers,s="https://api.punkapi.com/v2/beers?page=".concat(n,"&per_page=").concat(a);fetch(s).then((function(e){return e.json()})).then((function(e){t.setState({beers:[].concat(Object(l.a)(r),Object(l.a)(e))})}))},t.loadMore=function(){document.querySelector(".loader").removeAttribute("hidden"),t.setState((function(e){return{items:t.state.items.concat(Array.from({length:20})),page:e.page+1}}),t.loadBeers)},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadBeers()}},{key:"render",value:function(){var e=this.state.beers.map((function(e){return r.a.createElement(h.b,{to:"/beer_guru/"+e.id},r.a.createElement("li",{className:"Beers-list__item",key:e.id},r.a.createElement("img",{className:"Beers-list__img",src:e.image_url,alt:"Bottle of beer: "+e.name}),r.a.createElement("h2",{className:"Beers-list__name",title:e.name},e.name),r.a.createElement("p",{className:"Beers-list__tag",title:e.tagline},e.tagline)))}));return r.a.createElement("div",{className:"Beers"},r.a.createElement("ul",{className:"Beers-list"},r.a.createElement(_.a,{dataLength:this.state.items.length,next:this.loadMore,hasMore:!0,loader:r.a.createElement("div",{className:"loader"}),scrollThreshold:.95},e)))}}]),a}(n.Component),d=t(5),b=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={beer:{food_pairing:[]},similarBeers:[]},t.handleClick=function(e){e.stopPropagation(),t.props.history.push("/beer_guru")},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.beer_id,t="https://api.punkapi.com/v2/beers/".concat(a);fetch(t).then((function(e){return e.json()})).then((function(a){e.setState({beer:a[0]})})).then((function(a){var t=e.state.beer,n=t.ibu,r=t.abv,s=t.ebc,c=t.id,l="https://api.punkapi.com/v2/beers?ibu_lt=".concat(n+10,"&ibu_gt=").concat(n-10>=0?n-10:1,"&abv_lt=").concat(r+4,"&abv_gt=").concat(r-4>=0?r-4:1,"&ebc_lt=").concat(s+8,"&ebc_gt=").concat(s-10>=0?s-10:1);fetch(l).then((function(e){return e.json()})).then((function(a){var t=a.filter((function(e){return e.id!==c})),n=Array.from({length:3},(function(){return t[Math.floor(Math.random()*t.length)]}));e.setState({similarBeers:n})})).catch((function(e){return console.error(e)}))}))}},{key:"render",value:function(){var e=this.state.beer,a=e.food_pairing.map((function(e){return r.a.createElement("li",{className:"Details__pairing-item"}," ",e)})),t=this.state.similarBeers.map((function(e){return r.a.createElement(h.b,{to:"/beer_guru/"+e.id},r.a.createElement("div",{className:"Details__similar-beer"},r.a.createElement("img",{src:e.image_url,className:"Details__similar-img",alt:"Beer: "+e.name}),r.a.createElement("p",{className:"Details__similar-name",title:e.name},e.name)))}));return r.a.createElement("div",{className:"Details--background-grey",onClickCapture:this.handleClick,id:"popup"},r.a.createElement("div",{className:"Details"},r.a.createElement("div",{className:"Details-main"},r.a.createElement("img",{className:"Details__img",src:e.image_url,alt:"Bottle of beer: "+e.name}),r.a.createElement("section",null,r.a.createElement("h3",{className:"Details__header"},e.name),r.a.createElement("p",{className:"Details__tag"},e.tagline),r.a.createElement("span",{className:"Details__params"},r.a.createElement("strong",null,"IBU:")," ",e.ibu),r.a.createElement("span",{className:"Details__params"},r.a.createElement("strong",null,"ABV:")," ",e.abv,"%"),r.a.createElement("span",{className:"Details__params"},r.a.createElement("strong",null,"EBC:")," ",e.ebc),r.a.createElement("p",{className:"Details__desc"},e.description),r.a.createElement("p",{className:"Details__pairing"},"Best served with:"),r.a.createElement("ul",{className:"Details__pairing-list"},a))),r.a.createElement("section",{className:"Details__similar"},r.a.createElement("h4",{className:"Details__similar-header"},"You might also like:"),r.a.createElement("div",{className:"Details__similar-container"},t))))}}]),a}(n.Component);var f=function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"BEER",r.a.createElement("span",{className:"App-header--grey"},"GURU"))),r.a.createElement(d.a,{path:"/beer_guru",component:g}),r.a.createElement(d.a,{path:"/beer_guru/:beer_id",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.0b763c28.chunk.js.map